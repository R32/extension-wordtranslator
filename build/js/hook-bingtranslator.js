// Generated by Haxe 5.0.0-alpha.1
var $global = window;
class hookbt {
	static rolling(lvl) {
		hookbt.tid = -1;
		let cur = document.getElementById("tta_output_ta").value;
		let len = cur.length;
		if(lvl < 0) {
			cur = chrome.i18n.getUILanguage() == "zh-CN" ? "查词失败" : "query failed";
		} else if(len >= 2 && cur.charCodeAt(len - 1) == 46 && cur.charCodeAt(len - 2) == 46 || cur == " ") {
			hookbt.tid = window.setTimeout(hookbt.rolling,300,lvl - 1);
			return;
		}
		chrome.runtime.sendMessage([1,cur]);
	}
	static run(ens) {
		if(ens != null) {
			let input = document.getElementById("tta_input_ta");
			input.value = ens;
			input.click();
			if(hookbt.tid > 0) {
				window.clearTimeout(hookbt.tid);
			}
			hookbt.tid = window.setTimeout(hookbt.rolling,300,20);
		}
		document.getElementById("tta_playiconsrc").click();
	}
}
{
}
hookbt.tid = -1;
