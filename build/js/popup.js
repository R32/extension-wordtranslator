// Generated by Haxe 4.3.1
(function ($global) { "use strict";
class Popup {
	static onChecked(label,checked) {
		if(checked) {
			label.setAttribute("checked","");
		} else {
			label.removeAttribute("checked");
		}
		let menu = document.querySelector("#menumain");
		let ui_enable = menu.children[0];
		let ui_sound = menu.children[1];
		if(ui_enable == label) {
			Popup.setAttribute(ui_sound,"disabled",!checked);
		}
		let on = !checked;
		if(label == ui_enable) {
			chrome.storage.local.set({ disabled : on},function() {
				chrome.runtime.sendMessage([2,"disabled" + ":" + (on == null ? "null" : "" + on)]);
			});
		} else if(label == ui_sound) {
			chrome.storage.local.set({ nosound : on},function() {
				chrome.runtime.sendMessage([2,"nosound" + ":" + (on == null ? "null" : "" + on)]);
			});
		}
	}
	static setAttribute(label,value,on) {
		if(on) {
			label.setAttribute(value,"");
			label.querySelector("input").setAttribute(value,"");
		} else {
			label.removeAttribute(value);
			label.querySelector("input").removeAttribute(value);
		}
	}
	static main() {
		document.querySelector("#menumain").onclick = function(e) {
			let target = e.target;
			if(target.tagName != "INPUT") {
				return;
			}
			Popup.onChecked(target.parentElement,target.checked);
		};
		chrome.storage.local.get(["nosound","disabled"],function(stores) {
			let menu = document.querySelector("#menumain");
			if(stores.nosound) {
				Popup.setAttribute(menu.children[1],"checked",false);
			}
			if(stores.disabled) {
				Popup.setAttribute(menu.children[0],"checked",false);
				Popup.setAttribute(menu.children[1],"disabled",true);
			}
		});
	}
}
{
}
Popup.main();
})(window);
